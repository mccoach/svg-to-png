<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SVG Editor & Image Exporter</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" type="image/png" href="assets/favicon.ico">
</head>
<body>
    <div class="site-logo">
        <img src="assets/favicon.ico" alt="Logo" />
    </div>

    <!-- 单按钮语言下拉菜单 -->
    <div class="lang-switch">
        <button class="lang-btn" id="langBtn" aria-haspopup="listbox" aria-expanded="false">
            <span id="langText">English</span>
            <span class="download-caret" aria-hidden="true">
                <svg width="16" height="16" viewBox="0 0 14 14">
                    <path d="M3 6l4 4 4-4" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/>
                </svg>
            </span>
        </button>
        <ul class="lang-menu" id="langMenu" role="listbox" tabindex="-1" style="display: none;">
            <li data-lang="en" class="active" role="option" aria-selected="true" tabindex="0">English</li>
            <li data-lang="zh" role="option" aria-selected="false" tabindex="0">中文</li>
        </ul>
    </div>

    <div class="author-info" id="authorInfo">
        Built with ❤️ by <a href="#" title="Made with heart">Dajin</a>
    </div>
    
    <div class="drop-zone" id="dropZone">
        <p id="dropZoneText">Drag SVG files here or</p>
        <button id="chooseFileBtn">Choose File</button>
        <input type="file" id="fileInput" accept=".svg,image/svg+xml">
    </div>
    
    <div class="main-content-resizable" id="mainContentResizable">
        <div class="editor-container" id="editorContainer">
            <div class="editor-header" id="editorHeader">
                SVG Editor
                <span class="risk-tip" id="riskTip"></span>
            </div>
            <textarea id="svgEditor" placeholder="Input or paste SVG code here..."></textarea>
        </div>
        <div class="resizer" id="mainResizer" aria-label="Resize panels" tabindex="0">
            <button id="restoreSplitBtn" class="restore-bar-btn" title="恢复一半一半分栏">
                <svg viewBox="0 0 18 18" width="18" height="18" aria-hidden="true" focusable="false">
                    <circle cx="9" cy="9" r="7" fill="#fff" stroke="#7b8db0" stroke-width="1.5" />
                    <rect x="8.55" y="4" width="0.9" height="10" rx="0.45" fill="#7b8db0"/>
                    <polyline points="5,9 8,9" stroke="#7b8db0" stroke-width="1.2" fill="none" stroke-linecap="round"/>
                    <polyline points="13,9 10,9" stroke="#7b8db0" stroke-width="1.2" fill="none" stroke-linecap="round"/>
                </svg>
            </button>
        </div>
        <div class="preview-container" id="previewContainer">
            <div class="preview-header">
                <span id="previewHeader">Preview</span>
                <span class="zoom-info" id="zoomInfo">Zoom: 100%</span>
            </div>
            <div class="preview-area" id="previewArea">
                <div id="svgPreview"></div>
                <div class="vertical-zoom-bar" id="verticalZoomBar">
                    <div class="vertical-zoom-bg"></div>
                    <div class="vertical-zoom-thumb" id="verticalZoomThumb"></div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="controls" id="controls">
        <div class="control-group">
            <label for="widthInput" id="widthLabel">Width:</label>
            <input type="number" id="widthInput" value="" placeholder="Auto" min="1">
            <span>px</span>
        </div>
        <div class="control-group">
            <label for="heightInput" id="heightLabel">Height:</label>
            <input type="number" id="heightInput" value="" placeholder="Auto" min="1">
            <span>px</span>
        </div>
        <button class="reset-btn" id="resetBtn">Reset Size</button>
        <div class="control-group">
            <input type="checkbox" id="keepSize" checked>
            <label for="keepSize" id="keepSizeLabel">Keep Last Size</label>
        </div>
        <div class="control-group">
            <input type="checkbox" id="aspectRatio" checked>
            <label for="aspectRatio" id="aspectRatioLabel">Keep Ratio</label>
        </div>
        <div class="control-group" style="display: none;">
            <input type="checkbox" id="stretchToFit" checked>
            <label for="stretchToFit">Stretch to Fit</label>
        </div>
        <div class="right-controls">
            <button class="fit-btn" id="fitBtn">Fit</button>
            <!-- 图片导出菜单 -->
            <div class="download-image-group" id="downloadImageGroup">
                <button class="download-btn" id="downloadBtn" type="button" aria-haspopup="listbox" aria-expanded="false">
                    <span id="downloadImageText">Download Image</span>
                    <span class="download-caret" aria-hidden="true">
                        <svg width="16" height="16" viewBox="0 0 14 14">
                            <path d="M3 8l4-4 4 4" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/>
                        </svg>
                    </span>
                </button>

                <ul class="download-format-menu" id="downloadFormatMenu" role="listbox" tabindex="-1" style="display: none;">
                    <li data-format="png" class="active" role="option" aria-selected="true" tabindex="0">PNG</li>
                    <li data-format="jpeg" role="option" aria-selected="false" tabindex="0">JPEG</li>
                    <li data-format="webp" role="option" aria-selected="false" tabindex="0">WebP</li>
                </ul>
            </div>
            <button class="download-svg-btn" id="downloadSVGBtn">Download SVG</button>
        </div>
    </div>
    <script type="module" src="js/main.js"></script>
</body>
</html>
